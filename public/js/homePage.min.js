"use strict";function initialize(){cleanDOM(document);new Router,new Utils;var t=new SocketIO;window.addEventListener("click",function(e){var n=e.target;"scrollToTop"===n.id?Q("header").scrollIntoView({behavior:"smooth",block:"start"}):"yesButton"===n.id?t.handleAnswer("yes"):"noButton"===n.id&&t.handleAnswer("no")}),I("copy").appendChild(document.createTextNode(" - "+(new Date).getFullYear()))}function SocketIO(){if(!(this&&this instanceof SocketIO))return new SocketIO;var t=io(),e=new Utils,n=void 0,o=!1,r=!1,i=void 0,a=void 0;function c(){I("textPad").textContent="Wait for next round...",I("buttonHolder").style.display="none"}return t.on("connection",e.success("Welcome")),t.on("question",function(t){return function(t){var e=10;clearInterval(i),r=!1,o=!1,n=t.result,I("timer").textContent=e--,a=setInterval(function(){if(0===e)return clearInterval(a);I("timer").textContent=e--},1e3),I("textPad").textContent=t.operand1+" "+t.operator+"  "+t.operand2+" = "+t.answer,I("buttonHolder").style.display="flex"}(t)}),t.on("round closed",function(t){return function(t){o?e.success("correct :)"):e.warn("Round closed!");n=5,clearInterval(a),r=!0,I("timer").textContent=n--,c(),i=setInterval(function(){if(0===n)return clearInterval(i);I("timer").textContent=n--},1e3);var n}()}),t.on("player update",function(t){return I("numPlayers").textContent="Players: "+t}),{handleAnswer:function(i){if(r)return e.warn("This round is closed!");var a=Number(I("score").textContent.split(":")[1].trim()),s=void 0;i===n?(s=++a,t.emit("answer",i),o=!0):(s=a>0?--a:0,e.failure("wrong :("),c()),I("score").textContent="Score: "+s}}}function Router(){if(!(this&&this instanceof Router))return new Router;new Utils;return window.addEventListener("click",function(t){t.target}),{}}window.addEventListener("load",initialize);